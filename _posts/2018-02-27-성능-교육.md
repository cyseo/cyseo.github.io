---
layout: post
comments: true
title: "성능 교육"
author: Changyoun Seo
date: 2018-02-27 12:00:00 +0900
tags: [교육, 성능]
---

# 성능 교육

## Chapter1을 읽고 성능 테스트의 정의를 정리하시오.

- 성능 테스트는 주어진 작업 부하에서 시스템의 응답성, 처리량, 안정성 및 확장성을 결정하기 위한 테스트이다. 일반적으로 시스템의 병목 현상을 파악하고 향후 테스트를 위한 기준을 수립한다.
    - 상품 평가
    - 성과 기준에 대한 평가
    - 성능 특성 비교
    - 성능 문제의 원인 찾기
    - 시스템 튜닝 지원
    - 처리량 평가

- 성능 테스트는 다음과 같은 순서로 진행된다.
    1. 테스트 환경 확인
    1. 성능 수용 기준 설정
    1. 테스트 계획 및 디자인
    1. 테스트 환경 구성
    1. 테스트 디자인 구현
    1. 테스트 시행
    1. 분석, 보고, 재시도
    
- 성능 테스트는 보통 아래와 같은 위험을 해결하기 위해 진행된다.
    - 릴리스 준비 상태 평가
    - 인프라 적절성 평가
    - 개발 된 소프트웨어 성능의 적절성 평가
    - 성능 튜닝의 효율성 향상

- 성능 테스트를 통해 시스템의 병목 현상을 파악하고 성능 목표 및 요구 사항을 준수하는지 확인할 수 있다. 성공적인 성능 테스트를 위해서는 테스트가 프로젝트 컨텍스트와 관련이 있어야 하며, 이는 중요한 항목에 집중할 수 있도록 도와준다.
- 프로젝트 컨텍스트에는 프로젝트 비전, 고객 또는 사용자의 기대, 준수 기준, 프로젝트 일정 등이 포함된다.
- 부하, 스트레스 테스트는 성능 테스트의 하위 범주이며 각각 다른 목적으로 사용된다.

## Chapter2를 읽고 성능 테스트의 종류를 정리하고, 해당 테스트가 어떤 상황에서 필요한지 직접 생각하여 정리하시오.

### 성능 테스트
- 목적: 속도, 확장성 및 안전성 검증
- 성능 테스트 중인 제품의 응답성, 속도, 확장성 및 안정성 특성을 확인하거나 검증하기 위해 수행한다.
- 필요한 상황: 제품 개발 후 요구사항을 만족시키는지 검사

### 부하 테스트
- 목적: 응용 프로그램이 원하는 성능 목표를 충족시킬 수 있는지 확인하기 위해 수행
- 일정 시간 동안 부하를 가하여 서버가 처리할 수 있는 최대 TPS와 응답시간을 산출한다.
- 정상 및 최대 로드 조건에서 응용 프로그램 동작을 확인한다.
- 목표하는 성능은 SLA에 지정되는 경우가 많다.
- 내구성 테스트는 부하 테스트의 하위 집합으로 제품이 장기간의 작업량, 부하량에 노출 될 때의 성능을 검증하는데 중점을 둔다.
- 필요한 상황: 실 서비스 시 제품이 어느 정도의 부하를 견딜 수 있는지 검증.

### 스트레스 테스트
- 목적: 응용 프로그램이 최대 로드 조건을 초과하여 푸시될 때 동작을 확인
– 일반적으로 최대 TPS가 나오는 가상 사용자만큼 부하를 가하는 상태를 지속한다.
- 높은 부하 조건에서만 발생하는 버그를 찾는다.(동기화, 메모리 누수 등)
- 스파이크 테스트는 스트레스 테스트의 하위 집합으로 짧은 시간동안 순간적으로 부하에 노출 될 때의 성능을 검증한다.
- 필요한 상황: 예상보다 많은 사람이 서비스를 이용하는 경우 발생하는 문제를 검사, 티켓팅이나 수강신청 등 한 순간에만 사용자가 몰리는 경우 발생하는 문제를 검사

### 용량 테스트
- 목적: 얼마만큼의 사용자, 트랜잭션을 지원하면서 성능을 충족 시킬지 결정
- 용량 테스트는 용량 계획과 함께 수행되며 사용자 증가 또는 데이터 증가와 같은 향후 성장을 계획하는 데 사용한다.
- 이를 통해 스케일 업, 스케일 아웃 여부를 결정할 수 있다.
- 필요한 상황: 향후 사용량 지표를 보고 용량 테스트 결과와 비교하여 스케일 업, 아웃 시점을 결정

## Chapter3를 읽고 성능 테스트 시 어떤 위험 사항이 있는지 정리하시오.

### Speed-Related Risks
- 위협
    - 응용프로그램이 충분히 빠른지?
    - 원하는 데이터를 처리하여 제때 제공할 수 있는지?
    - 최신 정보를 제공할 수 있는지?
    - 최대 응답시간 내에 웹 서비스가 응답하는지?
- 완화 전략
    - 요구 사항이 사용자의 요구사항인지 명확히 파악
    - 이전 버전과 비교
    - 피크시간을 가정한 부하 테스트 설계
    - 실제 제품 중 비즈니스 운영이 유사한 볼륨으로 성능 테스트 수행
    - 테스트 결과를 이해 관계자가 의사결정을 내릴 때 참고할 수 있도록 지원
    - 최고 부하를 받는 동안의 시스템에 대한 사용자 피드백 요청
    - 성능 테스트에 시간이 중요한 테스트 포함
    - 주기적 시스템 프로세스가 실행되는 동안 일부 성능 테스트가 수행되는지 확인
    - 다양한 조건에서 속도 측정
    - 성능 테스트 중 올바른 데이터가 표시되고 저장되는지 확인

### Scalability-Related Risks
- 위협
    - 어플리케이션이 전 사용자에게 일관적이고 적절한 응답 시간을 제공 가능한지?
    - 응용 프로그램이 가동하는 동안 수집되는 모든 데이터를 저장 가능한지?
    - 응용 프로그램이 최대 용량에 근접할 때 발생하는 경고가 있는지?
    - 과도한 부하상황에서도 보안이 유지되는지?
    - 과도한 부하상황에서 기능이 손상되는지?
    - 응용 프로그램이 예상치 못한 최고 부하를 견딜 수 있는지?
- 완화 전략
    - 다양한 조건에서 속도 측정
    - 피크시간을 가정한 부하 테스트 설계
    - 실제 제품 중 비즈니스 운영이 유사한 볼륨으로 성능 테스트 수행
    - 테스트 결과를 이해 관계자가 의사결정을 내릴 때 참고할 수 있도록 지원
    - 현실에 맞는 성능 테스트를 수행
    - 데이터를 검사하거나 응답값의 유효성을 검사하여 다양한 로드에서 응용 프로그램의 기능적 정확성을 확인
    - 예상 부하를 넘는 성능 테스트를 수행하고 테스트 도중 또는 후에 관리자가 수동으로 엑세스하여 동작을 관찰

### Stability-Related Risks
- 위협
    - 기능 저하, 손상, 재부팅 없이 오랫동안 응용 프로그램을 실행할 수 있는지?
    - 응용 프로그램이 예기치 않게 다운된 경우 부분적으로 완료된 트랜잭션은 어떻게 처리되는지?
    - 예정되거나 예정되지 않은 다운 이후 응용 프로그램이 다시 켜지면 사용자는 여전히 이전처럼 이용 가능한지?
    - 예정되지 않은 다운 이후 응용 프로그램이 다시 켜지면 올바른 시점에 다시 시작되는지?
    - 오류 조합이나 반복되는 기능 오류로 시스템이 중단 될 수 있는지?
    - 시스템 전체에 부작용을 일으키는 트랙잭션이 있는지?
    - 사용자에게 중단 없는 서비스를 제공할 수 있는지?
    - 시스템을 종료하지 않고 업데이트 할 수 있는지?
- 완화 전략
    - 현실적인 endurance tests에 투자
    - 핵심 시나리오로 스트레스 테스트 수행 - 주요 성능 지표 및 손실된 작업 등과 같은 비즈니스 지표로 작업
    - 실제 생산 환경과 유사한 데이터 피드로 스트레스 테스트 수행
    - 테스트 중에 서버를 오프라인으로 전환하고 나머지 시스템의 동작을 관찰
    - 시스템 재부팅 직전과 직후에 동일한 테스트를 수행하고 결과를 비교
    - 성능 테스트 시나리오에 오류 또는 예외 사례를 포함
    - 성능 테스트 중에 시스템 패치 적용
    - 성능 테스트 중에 백업 혹은 바이러스 업데이트를 강제 실행

## Part2를 읽고 성능 테스트 시 어떤 작업들이 필요한지 정리하시오.

1. 테스트 환경 확인
    - 성능 테스트를 수행하는 환경과 필요한 도구, 하드웨어가 환경을 구성한다.
    - 테스트 환경은 프로덕션 환경의 복제본에 모니터링 도구가 추가된다.
    - 종종 새 하드웨어가 기존 성능 문제를 해결할 것이라는 가정을 입증하기 위해 새 하드웨어 인프라에 대해 성능 테스트가 적용된다.
    - 테스트 환경과 프로덕션 환경간의 유사점, 차이점을 이해해야 한다.
    - 하드웨어, 네트워크, 도구, 소프트웨어, 외부 요인등을 고려한다.
    - 실제 환경과 유사하게 처리하기 위해 네트워크, 로드 벨런서, 방화벽, DNS 등의 설정을 검토하고 필요한 경우 지원을 받는다.
1. 성능 수용 기준 설정
    - 개발 초기에 설정하는 것이 합리적이다.
    - 응답시간, 리소스 활용, 처리량, 메모리, 디스크IO, 네트워크IO 등이 포함된다.
    - 비즈니스 요구사항, 사용자 기대치, 계약상 의무, SLA, 핵심 성과 지표, 경쟁 업체의 응용 프로그램, 업계 표준 등을 고려한다.
1. 테스트 계획 및 디자인
    - 주요 시나리오 식별, 테스트 데이터 식별 및 생성, 수집할 매트릭 지정이 포함된다.
    - 현실적인 테스트 결과는 비용과 시간이 오래 걸릴 수 있지만 결과 데이터의 신뢰도를 높여 비즈니스 의사 결정에 도움을 준다.
    - 비현실적인 테스트 결과는 부정확한 결과를 초래 할 수 있다.
    - 현실적인 테스트 디자인은 사용자, 네트워크 및 응용 프로그램과 상호 작용하는 다른 외부 시스템과의 종속성에 민감하다.
    - 도구가 테스트 디자인에 영향을 미치지 않도록 해야한다.
    - 주요 시나리오 작성 시 고려 사항
        - 계약 상 의무가있는 사용 시나리오
        - 성능 테스트를 위해 요구되는 사용 시나리오
        - 일반적인 사용 시나리오
        - 업무상 중요한 사용 시나리오
        - 성능 집약적인 사용 시나리오
        - 기술적인 우려가 있는 사용 시나리오
        - 이해 관계자 관심사의 사용 시나리오
        - 높은 가시성 사용 시나리오
    - 현실적인 테스트 디자인
        - 사용자 지연 및 생각 시간에 대한 현실적인 시뮬레이션
        - 사용자가 어떤 이유로든 작업을 포기할 가능성이 있는 경우
        - 일반적인 사용자 오류
1. 테스트 환경 구성
    - 테스트 이전에 테스트 환경을 구성해두면 해당 기능 및 구성 요소를 사용할 수 있는 시간 동안 수행 가능한 테스크의 수가 크게 증가할 수 있다.
    - 격리된 네트워크, 하드웨어 설정 등 문제가 발생하는 부분을 검사하고 테스트 시작 전에 문제개 해결되었는지 확인한다.
    - 생성 환경 및 관련 도구를 주기적으로 재구성, 업데이트, 추가 또는 향상시킬 계획을 수립한다.
    - 로드 벨런서가 병목 상태에 도달하는 로드 수를 설정해둔다.
    - 시스템 클락이 동기화 되어있는지 확인한다.
    - 스위치, 네트워크 카드와 같은 하드웨어 구성요소에 대해 실행의 정확성을 검증한다.
    - 부하 분산 구성에서 서버 클러스터와 관련된 부하 테스트 실행의 정확성을 검증한다.
    - 균형 조정된 구성에서 각 서버간 리소스 사용율이 잘 분산되어 있는지 확인한다.
1. 테스트 디자인 구현
    - 단일 사용 시나리오를 작성하고 이를 다른 시나리오와 결합하여 완벽한 워크모델을 작성한다.
    - 테스트 데이터 피드가 올바르게 구현되었는지 확인한다.
    - 응용 프로그램 데이터 피드가 데이터베이스 및 기타 응용 프로그램 구성 요소에서 올바르게 구현되었는지 확인한다.
    - 트랜잭션의 유효성 검사가 올바르게 구현되었는지 확인한다.
    - 숨겨진 필드 또는 기타 특수 데이터가 올바르게 처리되었는지 확인한다.
    - 주요 성과 지표 (KPI)의 모니터링을 검증한다.
    - 비즈니스 성과를 명확히하기 위해 적절한 지표를 추가한다.
    - 요청 응답시간을 측정한다.
    - 테스트로 수집된 데이터를 기대치와 비교하여 중요한 값을 얻을 수 있다.
1. 테스트 시행
    - 테스트 시행 과정
        1. 팀과 함께 테스트 실행 및 모니터링을 조정
        1. 테스트, 구성 및 환경 및 데이터의 상태를 검증
        1. 테스트 실행
        1. 테스트가 실행되는 동안 스크립트, 시스템 및 데이터를 모니터하고 유효성을 검사
        1. 검사가 끝나면 검사 결과에 결함이 있는지 검토
        1. 필요한 경우 나중에 테스트를 반복하는 데 필요한 테스트, 테스트 데이터, 결과 및 기타 정보를 보관
        1. 시작 및 종료 시간, 결과 데이터의 이름 등을 기록
    - 테스트 환경이 예상한 환경과 일치하는지, 주요 성능 및 비즈니스 지표를 수집하도록 테스트가 구성되어 있는지 확인한다.
    - 올바른 값을 사용하고 있는지 확인하고 가능하면 3번씩 실행한다. 검사하는 동안 비 정상적인 지표에 주의한다.
    - 관찰된 문제를 이해하는데 도움이 되지 않는 테스트라면 잠재적 원인을 제거하고 다시 실행하는 것이 효율적인 수 있다.
1. 분석, 보고, 재시도
    - 구성원 및 관계자는 다양한 테스트 결과 그 이상을 필요로 한다.
    - 보고서는 두가지 범주 중 하나에 속한다.
        - 기술 보고서
            - 작업 부하 모델 및 테스트 환경을 포함하여 테스트에 대한 설명
            - 최소한의 전처리로 쉽게 소화 할 수있는 데이터
            - 완전한 데이터 세트 및 테스트 조건에 대한 액세스
            - 관찰, 우려 사항, 질문 및 요청에 대한 짧은 진술
        - 이해 관계자 보고서
            - 결과가 관련도니 기준
            - 가장 관련성이 높은 데이터를 직관적으로 표현
            - 차트, 그래프에 대한 간단한 요약
            - 테스트 환경을 직관적으로 표현
            - 관찰, 우려 및 권고의 요약
    - 효과적인 보고를 위해 자주, 시각적으로 보고하고 불필요한 데이터를 필터링하고 데이터를 올바르게 통합하여 보고한다.

## Part3를 읽고 테스트 환경에 대해 정리하시오.

- 성능 테스트는 프로젝트의 초기에 수행될 때 가장 효과적이다.
- 성능 테스트 동안 프로젝트의 특정 요구 사항을 달성하기 위해 시스템 및 비즈니스 프로세스의 기능, 예상 사용자 활동, 시스템 아키텍처 등의 세부 사항에 대한 정보를 수집한다. 이 정보는 성능 테스트 전략 및 계획 생성, 프로젝트 및 시스템 위험 평가 등의 성능 목표 및 요구 사항을 정의하는데 도움이 된다.
- 성능 테스트는 시험 대상 시스템의 핵심 기능을 식별하는 것이 필수적이고, 이를 통해 성능 허용 기준을 초기에 결정할 수 있다.
- 테스트 방법을 결정하기 전에 시스템의 의도를 완전히 파악해야만 시스템을 가장 잘 테스트 할 수 있다.
- 시스템 기능 및 비즈니스 프로세스를 결정할 때에는 다음과 같은 핵심사항을 고려한다.
    - 시스템의 전반적인 목적을 파악하기 위해 이해 관계자와의 면담
    - 계약 및 문서는 시스템에 대한 이해 관계자의 관점에서 벗어날 수도 있음
    - 인터뷰, 문서 및 계획에는 많은 암시적 기능이 포함된 상위 수준의 기능이 포함되어 있을 수 있다.

### 사용자 활동 캡처
- 테스트 대상의 주요 사용자 활동을 식별한다. 성능 테스트에서 모든 사용자 활동을 시뮬레이션 하는 것은 비현실적이고 불가능 하기 때문에 어떤 활동이 가장 중요한지 결정해야 한다.
- 경쟁 업체의 웹 사이트를 평가하면 적절히 중요한 사용자 활동을 알아내는데 도움을 준다.
- 가능한 사용자 활동을 설정할 때에는 모든 범주의 사용자를 고려해야 한다.
- 묵시적이거나 문서화된 예외 및 오류 사례를 확인해야 한다.
- 중요한 활동이거나 경쟁업체에서 누락된 활동을 발견하면 즉시 팀원과 상의해야 한다.

### 논리적 및 물리적 아키텍처 캡처
- 하드웨어와 소프트웨어 구조 사이의 관계를 식별한다. 이는 성능 테스트에서 성능 병목 현상을 찾으려는 경우에 매우 중요하다.
- 효과적인 테스트를 위해 성능 테스터가 어떤 시스템 구성요소가 어떻게 서로 통신하는지 알아야 한다.
- 몇몇 팀은 테스트를 "black-box"로 본다. 로드 벨런싱에서도 로드 벨런스 방식에 이르기 까지 테스트를 잘 설계하고 전체 시스템에 대한 지식을 알고 있어야 한다. 이래야만 성능 테스터가 프로젝트 초기에 고위험 영역을 식별할 수 있다.
- 테스터가 개발팀의 자원으로 인정되지 않는 경우 성능 테스터가 효과적이지 못할 수 있다.

## Part4를 읽고 성능 테스트의 목적에 대해 정리하시오.

### 성능 테스트 목표 결정 
- 성능 테스트의 목표를 결정하는 핵심은 변화, 잠재적 위험 및 개선 기회를 감지하는 것이다. 
- Performance-testing objectives는 제품의 품질을 결정하거나 개선하는데 가치가 있다고 예상되는 성능 테스트를 통해 수집되는 정보를 말한다. 하지만 이것이 반드시 성능 요구사항, 목표 또는 명시된 서비스 품질(QoS)규격과 직접적인 관련이 있는 것은 아니다.
- Performance objectives는 일반적으로 응답 시간, 처리량(초당 트랜잭션)및 리소스 활용도 수준에 따라 지정되며, 일반적으로 사용자 만족도와 직접적인 관련이 있는 메트릭에 초점을 맞춘다.
    
#### 성능 테스트 목적 결정
- 어플리케이션이 계약, SLA를 준수하는지 확인
- 조정할 병목을 감지
- 다양한 구성 옵션의 성능 특성을 결정할 수 있도록 개발 팀을 지원
- 확장성 및 용량 계획 작업을 위한 입력 데이터를 제공
- 애플리케이션이 운영 환경에 배포할 준비가 되었는지 확인

#### 프로젝트 계획 검토
팀원 또는 그룹과 함께 프로젝트 계획을 검토한다. 프로젝트 계획이 반드시 문서일 필요는 없고 화이트 보드 스케치, 모호한 아이디어 등이 있을 수 있다. 이런 계획을 검토할 때마다 다음과 같은 질문을 해야한다.
- 아키텍처 혹은 하드웨어가 변경되야 하는지?
- 변경과 관련된 성능 예산 또는 임계값이 있는지? 있다면 테스트가 필요한지? 임계값을 충족시키지 못하면 어떤 결과가 초래되는지?
- 다른 테스트 영역에 영향을 미치는지?
- 이러한 변화와 관련된 위험 또는 중대한 우려는 무엇인지?

#### 아키텍처 리뷰
팀원 또는 소규모 그룹과 함께 물리적 및 논리적 아키텍처를 검토한다.

#### 팀 구성원에게 질문
프로젝트에 대한 가장 큰 성능 관련 문제와 가능한 한 빨리 이러한 문제를 감지할 수 있는 방법에 대해 질문한다.

#### 리소스 사용 대상 및 임계값 캡처 또는 예측
극히 드문 경우를 제외하고 성능 테스터가 대상 및 임계값을 결정하는 것은 적절하지 않다. 테스터는 테스트 결과를 대상 및 임계값과 비교만 하는 것이 좋다. 이 임계값을 찾을 떄 참고할 할목은 다음과 같다.
- 생산 지원 팀과 상의하여 측정할 항목과 임계값을 설정
- 기술에 대한 주요 성능 지표 확인
- 나머지 업계의 동향을 파악
- 비즈니스 요구 사항에 맞는 주요 성능 지표를 사용
- 비즈니스 메트릭을 활용
- 이해 관계자와의 협력

#### 리소스 예산 캡처 또는 예측
- 설계자 및 임계값과 관련하여 의사 결정을 내릴 책임이 있는 다른 팀 구성원에게 이러한 의사 결정을 공유하도록 요청
- 프로젝트 문서 검토
- 개발자 및 설계자 회의에 참석
- 사용 중인 기술의 상태를 나타내는 핵심 성능 지표 임계값을 사용
- 비즈니스 요구사항 충족 여부

#### 메트릭 식별 
- 그리드 또는 간단한 스프레드 시트를 생성하여 목표가 충족되고 있는지 여부를 매핑 
- 개발자, 설계자 및 관리자와 긴밀하게 협력

#### 결과 전달
성능 목표와 관련된 데이터를 수집하는 테스트 결과의 의사 소통은 전반적인 성능 목표 및 요건과 관련된 결과를 전달하는 것과는 다르다. 목표 관련 결과는 팀에 유용한 정보가 되도록 하기 위한 것이다.
- 목표, 예상, 이전 측정치와 결과를 보고
- 팀 전체와 보고서를 공유
- 팀이 raw 데이터를 사용하도록 하고 다른 방법으로 분석할 수 있도록 도움
- 성능 불량의 잠재적 원인을 보고하지 않고 증상과 상태만을 보고

#### 목표 및 예산 변경에 대해 계속 인식 
목표는 프로그램 제작 동안 반드시 변경된다. 팀과 지속적으로 소통해야 한다.


### 최종 사용자 응답 시간 목표 수량화
- 성능 요구사항 : 계약 의무, 서비스 수준 계약(SLA)또는 고정된 비즈니스 요구 사항으로 인해 협상이 불가능한 기준이다.
- 성과 목표 : 제품 출시 전 팀이 충족하고자 하는 기준이며, 특정 상황에서는 이 기준을 협상할 수 있다

#### 애플리케이션 기능 및 사용량 확인 
어플리케이션의 성능 특성을 효과적으로 결정하기 전에 성능을 특성화하려는 시나리오를 식별해야 한다.
- 자주 사용하는 시나리오 
- 성능 집약적인 시나리오 
- 비즈니스 크리티컬 시나리오 
- 특별한 관심사 시나리오

#### 성능 요구 사항 및 목표 파악
소프트웨어 개발 수명 주기의 초기 단계에 이 활동을 수행하는 것이 일반적으로 바람직하지만, 프로젝트 전반에 걸쳐 주기적으로 이 활동을 다시 검토하는 것도 중요하다.

#### 성능 요구 사항 및 목표 정량화 
요구 사항 및 목표를 파악한 후의 다음 단계는 요구 사항을 정량화하는 것이다. 목표와 달리 요구 사항은 훨씬 더 신중하고 완전하게 정량화되어야 한다

#### 성능 요구 사항 및 목표 기록 
목표와 요구 사항을 기록하기 위한 방법은 다양하다. 어떠한 방법이건 목표와 요구 사항의 정량적 버전과 정성적 버전을 함께 기록해야 한다.

### 다양한 유형의 성능 허용 기준 목표 통합
성능 요구 사항 및 테스트 목표는 일반적으로 시스템 사용자, 시스템 비즈니스 소유자 및 프로젝트 팀의 관점뿐만 아니라 규정 준수 기대치 및 기술적 고려 사항이라는 5가지 관점에서 도출된다.

#### 최종 사용자 요구사항
어플리케이션 운영 환경에서 가장 중요한 것은 사용자가 성능 저하로 인해 짜증나서는 안된다는 것이다. 만약 그렇게 되면 그들은 다른 대안을 찾아낼 것이다.
최종 사용자의 만족도를 계량화 하는 것은 어렵지만 불가능 하지는 않다. 프로토 타입이나 데모로 각 페이지, 화면, 그래픽 또는 목록의 로드 시간을 제어할 수 있다. 이를 사용자에게 각 버전대로 테스트해보고 적절한 속도인지를 판단하도록 요청할 수 있다.

#### 비즈니스 요구 사항 수집
진정한 엔지니어링 과제는 비즈니스 요구 사항을 충족할 뿐 아니라 예산 범위 내에서 필요한 시간에 맞춰 충족하는 것이다.
예를 들어 중요한 기능을 제거하여 원하는 성능을 제 시간에 그리고 예산에 달성할 수 있는 상황이 발생하는 경우 이러한 트레이드 오프가 고려할 가치가 있는지 여부를 자문해 보아야 한다.

#### 기술 요구 사항 결정 
일반적으로 기술적 성능 특성은 다른 범주의 요건에만 간접적으로 관련된다. 이러한 특성은 주로 특정 기술의 사용과 관련된 경우가 많다.
- 성능 시험의 목표를 결정
- 리소스 사용 대상 및 임계값을 캡처하거나 추산
- 리소스 예산 또는 할당을 캡처하거나 예측
- 측정 지표를 식별
- 결과를 전달
- 변화하는 목표에 부응

#### 조사 기준, 규정 준수 및 계약 
이 범주의 성능 특성은 최종 사용자 만족도, 예산, 일정 또는 기술에 큰 영향을 미치는지 여부에 관계 없이 가장 협상의 여지가 적다.

#### 성능 테스트 목표 설정 
프로젝트 수명 주기 초기에 성능 시험 목표를 수집하는 것이 가장 중요하지만, 정기적으로 이러한 목표를 검토하고 팀 구성원에게 새로운 목표가 추가되기를 원하는지 물어보는 것도 중요하다.

#### 성능 특성 비교 및 통합 
각 범주의 성능 특성을 식별한 후에는 비교하고 통합하는 것이 중요하다. 가장 좋은 방법은 여러 부서에 걸친 팀을 고용하는 동시에 업무 수행 계획을 개발하거나 강화하는 것이다.
- 최종 사용자 및 규정 준수 요구 사항을 달성하는 데 필요한 기술적 특성 결정 
- 결정된 특성을 이미 수집한 기술 요구 사항과 비교
- 수정된 기술 요구 사항을 달성하기 위한 계획, 리소스 및 비용 추정
- 성능 시험을 수행하기 위한 전반적 목표를 검토하여 해당 시험 목표가 기술 요건 및 업무 요구 사항을 뒷받침하는지 확인

#### 성능 계획 검토 및 업데이트 
개발 주기 동안 애플리케이션 설계, 성능 계획 및 성능 요구 사항을 잠재적으로 업데이트할 때마다 이 프로세스를 여러번 반복할 수 있다.
한 번에 완벽할 수는 없다. 중요한 점은 애플리케이션이 실행된 후 설계, 계획 및 요구 사항을 함께 동기화하여 최종 사용자와 이해 당사자가 만족스럽도록 유지하는 것이다.

## Part5를 읽고 테스트의 계획과 디자인에 대해 정리하시오.

### 어플리케이션 사용 모델링
웹 부하 테스트의 일반적인 목적은 가능한 현실적으로 사용자 경험을 시뮬레이션 하는 것이다. 
현실을 합리적으로 정확하게 표현하려면 어플리케이션 사용, 다양한 상황에서 예상되는 트랜잭션 수, 예상 사용자 경로와 같은 비즈니스 컨텍스트를 이해해야한다. 비현실적인 워크 로드를 사용해 시뮬레이션 하더라도 정보를 얻을 수 있지만, 실제 워크 로드를 시뮬레이션 할 때에만 프로덕션 환경에서 성능에 대한 예측과 성능 최적화의 우선 순위 지정이 가능하다.

#### 어플리케이션 사용 모델링을 위한 접근법
성능 테스트에 사용하기 위해 하나 이상의 복합적인 어플리케이션 사용 프로필을 식별하는 것을 워크 로드 모델링이라고 한다.

#### 목표 확인
워크 로드 모델을 생성하는 목적은 일반적으로 테스트의 사실성을 보장하거나 특정 요구 사항, 목표, 성능 테스트 목적을 해결하기 위한 테스트 설계하는 데 있다.
- 시간 경과에 따라 비즈니스의 볼륨이 어떻게 증가 할 것으로 예상되는지
- 현재 또는 예상되는 피크 로드 수는 어느정도 인지
- 최대 부하 수준에는 얼마나 빨리 도달 할 것으로 예상하는지
- 최대 부하 수준은 얼마나 오랫동안 지속되는지
- 워크 로드 모델을 만드는 과정을 팀과 공유
- 한번에 완벽하려 하지 말고 점진적으로 모델을 향상

#### 주요 시나리오 결정
성능 테스트에서 가능한 모든 사용자 작업, 활동을 시뮬레이션 하는 것은 불가능하진 않지만 비실용적이다.
요구 사항 및 사용사레, 계약서, 마케팅 자료, 이해 관계자 인터뷰, 비슷한 어플리케이션의 정보는 사용 시나리오를 식별하는데 유용하다.
- 계약상 의무가 있는 사용 시나리오를 포함
- 성능 테스트의 목표 또는 목적에 의해 묵시적으로 의무화된 사용 시나리오를 포함
- 가장 일반적인 사용 시나리오를 포함
- 업무상 중요한 사용 시나리오를 포함
- 성능 집약적인 사용 시나리오를 포함
- 기술 관련 사용 시나리오를 포함
- 이해 관계자의 관심사에 대한 사용 시나리오를 포함
- 가시성이 높은 시나리오를 포함

#### 주요 시나리오의 탐색 경로 결정
- 개별 사용자가 시나리오와 관련된 작업 또는 활동을 실제로 수행하는 방법을 결정한다.
- 인간은 예측할 수 없고 웹 사이트는 중복된 기능을 제공한다. 적은 수의 사용자라도 실제 사용자는 작업을 완료하는데 필요한 모든 경로를 사용하지 않고 계획되지 않은 내용을 발생 시킨다. 사용자가 활동을 완료하는데 걸리는 각 경로는 시스템에 다른 부하를 가하고, 그 차이는 사소하거나 막대할 수 있다. 테스트 전까지 이를 확신할 수 없다. 탐색 경로는 다음과 같은 방법으로 식별한다.
    - 성능 영향을 일으킬 것으로 예상되거나 하나 이상의 주요 시나리오를 수행할 것으로 예상되는 경로 식별
    - 디자인 및 사용 설명서 읽기
    - 직접 활동 시도 해보기
    - 다른 사람이 지시없이 활동을 수행하는 것을 관찰
- 주요 시나리오의 탐색 경로를 결정할 때에는 다음의 사항을 고려한다.
    - 일부 사용자는 사이트를 방문하는 동안 둘 이상의 활동을 완료
    - 일부 사용자는 방문당 1회 이상의 동일한 활동을 완료
    - 일부 사용자는 사이트를 방문하는 동안 실제로 활동을 완료하지 못함
    - 탐색 경로는 종종 페이지 제목을 수집하는 것이 가장 쉬움
    - 페이지 제목이 동작하지 않거나 직관적이지 않은 경우 사용자가 활동을 완료하는 단계에 따른다면 쉽게 경로를 정의할 수 있음
    - 처음 사용자는 작업을 수행하기 위해 다른 경로를 자주 방문
    - 각각의 사용자는 사이트에서 서로 다른 시간을 소비
    - 팀이나 다른 사람과 탐색 경로를 논의 할 때 시각적 표현을 사용하는 것이 중요

#### 개별 사용자 데이터 및 분산 결정
탐색 경로와 사용 시나리오를 나타내는 모델이 얼마나 정확하든 간에 사용되는 데이터와 개별 사용자와 관련된 차이를 고려해야 한다. 사용자를 상호 교환 가능한 엔터티로 생각하면 테스트의 설계 및 분석이 쉬워지고 성능 문제의 일부 클래스를 쉽게 탐지 할 수 있지만 실제로 웹 사이트가 프로덕션 환경에서 직면하게 될 현실적인 복잡성을 숨긴다. 이러한 복잡성을 계산하고 시뮬레이션 하는 것은 실제 사용자가 직면하게 될 가능성이 있는 성능 문제를 파악하는데 중요할 뿐만 아니라 프로덕션 환경에서 성능 특성에 대한 예측을 수행하는데 필수적이다. 

#### 시나리오의 상대 분포 결정
시뮬레이션 할 시나리오와 해당 시나리오에 대한 단계 및 관련 데이터를 결정하고 이를 워크 로드 모델로 통합한 후에는 사용자가 모델에 표시된 각 활동을 수행하는 빈도를 결정해야 한다.

#### 목표 부하 수준 확인
웹사이트에 대한 방문은 사용자 세션이라는 요청으로 구성된다. 동일한 웹 사이트를 탐색하는 사용자는 세션 중에 중복 요청을 하지 않을 것이므로 동시 사용자를 기반으로 사용자 경험을 모델링 하는 대신 세션에 모델을 적용하는 것이 더 좋다.

#### 모델 구현 준비
테스트에서 실행 가능한 워크로드 모델을 구현하기 위해서는 스크립트를 작성하는 것이 일반적이다.
- 충분히 고려하고 모델을 변경
- 모델을 설계대로 구현할 수 없다면 구현 한 모델에 대해 세부 정보를 기록
- 모델을 자주 구현하는 것은 수집할 측정 지표를 식별하고 어떻게 수집할 것인지 결정하는 것을 포함

### 개별 사용자 데이터 및 변수 결정

#### 사용자 지연
사용자를 보다 정확하게 모델링 하려면 사용자 지연 모델링을 포함해야 한다. 정확히 모델링 할수록 신뢰할 수 있는 테스트 결과가 생성된다. 세션 중에 사용자는 여러 상태에 있을 수 있다. 따라서 사용자 동작을 특성화 하려면 페이지 흐름, 방문 빈도, 페이지 사이에 중지하는 시간, 웹 사이트와 상호작용하는 방법 등의 요소를 기반으로 모델링 해야 한다.

#### 개별 사용자 데이터 결정
- 탐색 경로만으로는 워크 로드 시뮬레이션을 구현 하는데 필요한 모든 정보를 제공하지 않는다. 다음과 같은 정보를 통해 완전히 구현해야 한다.
    - 사용자가 페이지에 머문 시간은 얼마나 되는지
    - 각 페이지에 어떤 데이터를 입력해야 하는지
    - 어떤 조건으로 사용자가 탐색 경로를 변경할 수 있는지

- 탐색 경로 및 시뮬레이트 된 사용자 교유 데이터를 식별할 떄에는 다음과 같은 사항을 고려해야 한다.
    - 성능 테스트에는 대량의 데이터를 소비하므로 충분한 데이터가 있는지 확인
    - 동일한 데이터를 반복해서 사양하면 종종 성능 테스트가 유효하지 않다
    - 성능 테스트에 잘못된 데이터를 포함하는 것을 고려
    - 처음 사용자는 일반적으로 숙련된 사용자보다 활동이 지연
    - 최상의 테스트 데이터는 프로덕션 데이터베이스, 로그에서 수집된 데이터
    - 클라이언트 캐싱을 고려

#### 사용자 포기
- 성능 저하로 인해 사용자가 작업을 완료하기 전에 사이트를 종료하는 상황을 말한다. 사람들은 심리적인 프로필과 페이지의 유형에 따라 다른 관용성을 보인다. 사용자 포기를 고려하지 않으면 비현질적이고 불가능한 부하가 발생하므로 가능한 한 현실적으로 사용자 포기를 시뮬레이트 해야한다.
- 일반적인  웹 사이트 트래픽 패턴에서 부하가 너무 무거워지면 사이트가 느려져서 사용자가 포기하므로 시스템 속도가 수용될 수 있는 속도가 될 때 까지 부하가 줄어든다. 이는 일부 사용자를 잃어버리는 대가로 성능을 복구하는 자체 매커니즘이다.
- 사용자 포기와 관련된 유용한 가이드라인은 다음과 같다.
    - 응답 시간을 평가하기 전에 포기율을 확인
    - 부하에 대한 결론을 도출하기 전에 포기율을 확인
    - 포기율이 약 20% 이상인 경우 포기 루틴을 비활성화하고 테스트를 다시 실행해 문제의 원인에 대한 정보를 얻음

## Part6을 읽고 테스트 실행에 대해 정리하시오.

### 성능 테스트 실행
- 테스트 환경 검증
- 테스트 검증
- 테스트 실행
- 베이스라인 설정 및 벤치마크
- 테스트 저장

### 테스트 환경 검증
테스트를 수행하기 전, 테스트 환경 설정이 설계한대로 되어있는지 검증을 하는 것이 중요하다.
- 테스트 도중 부하 생성 머신에서 동작하는 백신 프로그램을 정지
- 필요한 경우, 백그라운드 작업 시뮬레이션을 고려
- 데이터베이스 시나리오를 검증하기 위해 데이터 읽기에만 한정된 간단한 사용 시나리오를 실행
- 테스트 환경을 검증하기 위해 데이터베이스 갱신과 삽입을 포함한 복잡한 시나리오를 실행
- 모든 서버의 KPI(주요 성능 지표)를 사용하여 테스트 환경(프로세서, 네트워크, 디스크 및 메모리)을 평가

### 테스트 검증
잘못된 부하 시뮬레이션은 이전에 했던 모든 작업들을 무용지물로 만들어 버릴 수 있다. 테스트로부터 얻은 데이터를 이해하기 위해서는 부하 시뮬레이션은 테스트 설계를 정확하게 반영해야한다.
부하 시뮬레이션이 테스트 설계를 반영하지 않는다면, 결과를 잘못 해석하게 될 수 있다.
- 테스트 설계 구현: 테스트를 설계한대로 올바르게 구현했는지 검증
- 동시성: 한명의 사용자를 통해 테스트가 올바르게 설계되었는지 확인
- 테스트의 조합: 다른 테스트들과 조합하여 테스트가 정확히 실행되는지 검증
- 테스트 데이터 검증

### 테스트 실행
- 테스트 대상 어플리케이션이 성능 테스트를 실행하기에 적절한 상태에 있다고 판단되면, 현재 어플리케이션 상태에 기초하여 가장 높은 우선 순위에 있는 성능 테스트부터 테스트를 시작한다. 
- 각 테스트를 실행한 후에, 테스트 동안에 무슨 일이 일어났는지 간략한 정보를 취합하여 나중에 참고할 수 있도록 테스트 로그에 코멘트를 추가한다.
- 가능한 경우 작업을 하루에서 이틀로 제한하여 시간이 낭비되지 않도록 한다.

효율적인 테스트 실행을 위한 방법
- 어플리케이션 오류를 해결하거나 테스트를 디버깅하는 시간을 미리 계획
- 즉시 결과를 분석
- 테스트 결과를 팀 전체에 자주 공개
- 결과와 중요한 발견사항들을 기록
- 다음 테스트에 반복적으로 해야하는 데이터를 기록
- 어플리케이션 튜닝 또는 최적화를 검증
- 적절한 시점에 어플리케이션의 용량이나 부하에 스트레스 주입

### 베이스라인 및 벤치마크
베이스라인과 벤치 마크를 사용할 경우, 보통 첫번째 및 마지막 테스트가 된다. 프로젝트 진행 중에 실행될 수 있는 모든 테스트 중에서, 베이스라인과 벤치 마크를 잘 이해하고 제어하는 것이 가장 중요하다.
- 베이스라인: 시스템이나 어플리케이션에 대한 변경 사항이 야기하는 성능 증가를 평가하기 위한 목적 테스트를 실행하는 과정
- 벤치마크: 시스템 성능을 다른 조직에서 보증하는 산업 표준과 비교하는 과정

### 테스트 저장
변경 관리나 버전 관리는 각 테스트 실행 간의 스크립트, 시나리오 및 데이터 변경을 관리하면 테스트간의 차이를 나머지 팀원들에게 전달하는 데 매우 유용하다.

## Part7을 읽고 테스트 결과 분석에 대해 정리하시오.

### 주요 수학적 원리
#### 통계
- 평균: 일반적인 산술 평균
- 백분위
- 중간값: 데이터 셋의 중간 값
- 표준 값: 데이터 셋에서 가장 많이 나온 값이다.
- 표준편차: 데이터 값들이 평균에서 얼마나 분산되어 있는지
- 균일 분포: 데이터의 값들이 거의 비슷한 분포

#### 통계의 가치
일반적인 상용 소프트웨어 개발 프로젝트 안에서 신뢰할 만한 표본 수를 갖고 통계의 가치, 신뢰를 계산하는 것은 상당히 어렵고 복잡한 작업이다.  
- 만약 테스트의 20 퍼센트보다 많게 다른 테스트들과 다르다면, 아마도 테스트 환경의 문제가 있을 것임을 알 수 있다.
- 어떤 테스트의 90퍼센트의 값들이 최대값보다 크거나, 최소값보다 작다면, 해당 데이터셋은 아마도 통계적으로 같지 않을 것이다.
- 만약 테스트의 측정치가 다른 테스트의 결과보다 눈에띄게 높거나 낮다면, 아마도 통계적으로 같지 않을 것이다.
- 만약 특정부분에서의 테스트가 나머지 부분에서의 테스트보다 눈에띄게 높거나 낮더라도 나머지 부분이 비슷하다면 그 결과는 통계적으로 유사할 것이다.

#### 통계적 동일성
여러번의 테스트에서 결과가 주어졌을 때 80퍼센트가 같다면 통계적으로 동일하다는 것을 의미한다.

#### 통계 이상점
측정치가 표준편차의 3배이상 많이 나거나, 99퍼센트에 가까울 때를 말한다.

### 성능 테스트 리포트의 이용
#### 빠르게, 자주
성능 테스트에서 지속적인 정보, 데이터를 공유하는 것은 테스트의 성공과 효율성에 아주 중요하다. 빠르게 정보 공유가 이루 지는 것이 효과적이다.

#### 시각적으로
대부분의 사람들은 시각적인 형태의 데이터를 선호한다. 또 시각적으로 표현한다면 어떤 데이터의 중요한 의미를 담은 패턴을 발견할 수도 있다. 이러한 패턴은 테이블을 스캐닝하거나, 수학적인 알고리즘을 통해 찾아낼 수 있다.

#### 직관적으로
리포트는 이슈에 대한 답을 제공하지 않더라도 어떤 이슈가 있는지 직관적이고 빠르게 알리도록 작성되어야 한다.

#### 적절한 통계방법으로
많은 개발자, 테스트, 매니저들은 통계에 대한 많은 배경지식을 갖고 있지 않다. 모르겠다면 도움을 청해야 한다.

#### 데이터 통합
하나, 두개의 그래프로 결과를 통합하면 더 빠르게 패턴을 찾을 수 있다.

#### 데이터 요약
결과를 요약하면 의미있는 패턴을 찾는데 많은 도움을 준다.

#### 리포트의 타겟에 맞게 커스터마이즈
여러 리포트 타겟에 맞춰 적절히 리포트를 작성한다.

#### 이용가능한 데이터 만들기
성능 테스트 데이터는 raw 데이터 형태로 공유되어선 안된다. 이는 분석이 어렵기 때문이다.

## Part8을 읽고 Load 테스트와 Stress 테스트의 차이를 정리하시오.

### Load Test
프로그램의 최대 작동 용량, 성능을 저하시킬 수있는 병목 현상을 식별하여 정상 및 예상 피크로드 조건에서 프로그램의 동작을 결정하는 데 사용한다.
적은 부하로 시자갛여 부하를 점진적으로 최대치로 증가시킨다. 점진적으로 증가하는 부하속에서 프로그램이 수행하는 동작을 관찰한다.

#### 테스트 입력
- 성능이 중요한 사용 시나리오  
- 작업 부하 모델  
- 성능 수용 기준  
- 허용 기준과 관련된 성능 측정 항목  
- 디자이너, 개발자, 사용자, 운영자의 인터뷰 의견  

#### 테스트 산출   
- 처리량, 응답 시간, 최대 사용자 수 및 리소스 사용률과 같은 다양한 성능 측정
- 화이트 박스 테스트 단계에서 분석해야 할 잠재적 병목 현상  
- 다양한 부하 레벨에서의 프로그램 동작  

### Stress Test
극한 상황에서만 발생할 수 있는 잠재적 문제를 식별한다. 메모리, 프로세서 사이클, 네트워크 대역폭 및 디스크 용량과 같은 시스템 자원이 고갈된 이후부터 예측 불가능한 사용 패턴으로 인해 발생하는 과도한 부하까지 다양한다.
프로그램의 견고성, 안전성에 중점을 둔 목표 및 사용자 시나리오를 중심으로 싱행된다.

#### 테스트 입력  
- 이전 스트레스 테스트의 결과
- 프로그램 사용 특성 (시나리오)
- 극한 상황에서의 시나리오에 대한 걱정
- 부하 테스트에서 얻은 현재 최대 부하 용량  
- HW, NW 아키텍처 및 데이터
- 재난 위험

#### 테스트 산출
- 스트레스가 많은 조건에서의 프로그램 측정  
- 스트레스 상황에서의 증상  
- 견고성, 가용성 및 안정성을 해결하는데 사용하는 정보  

#### 사용 시나리오   
- Application stress testing: 스트레스 받는 시스템에서 둘 이상의 트랜잭션에 초점
- Transactional stress testing: 구성 요소 간 상호 작용 복잡성을 추가하지 않고 부하량을 초과하는 부하량으로 트랜잭션 수준에서 작업
- Systemic stress testing: 서로 다른 프로그램이 서로를 차단하고 시스템 자원을 놓고 경쟁하는 상황에서 결함을 발견

### 참고 사이트
[SW 성능테스트란?](https://pieceofhope.wordpress.com/2016/06/02/sw-%EC%84%B1%EB%8A%A5%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80/)